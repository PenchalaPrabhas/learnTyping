<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Type A to Z</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      margin: 0;
    }
    #content {
      max-height: 50vh;
      overflow-y: auto;
      width: 100%;
      text-align: center;
      margin-bottom: 20px;
      font-size: 20px;
    }
    .line {
      margin-bottom: 10px;
    }
    .wrong {
      color: red;
    }
    #typingArea {
      border: none;
      background-color: transparent;
      color: white;
      font-size: 24px;
      outline: none;
      width: 500px;
      text-align: center;
    }
    .correct {
      animation: correctColorChange 2s infinite;
    }
    @keyframes correctColorChange {
      0% { color: lightgreen; }
      50% { color: white; }
      100% { color: lightgreen; }
    }

    /* Styles for the buttons */
    .case-button {
      margin: 10px;
      height: auto;
      background: transparent;
      padding: 10px 20px;
      border: 2px solid lightgreen;
      cursor: pointer;
      color: lightgreen;
      font-size: 16px;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    .case-button:hover {
      background-color: lightgreen;
      color: black;
    }

    /* Styles for the redirect button */
    .animated-button {
      position: relative;
      display: inline-block;
      padding: 12px 24px;
      border: none;
      font-size: 16px;
      background-color: inherit;
      border-radius: 100px;
      font-weight: 600;
      color: #ffffff40;
      box-shadow: 0 0 0 2px #ffffff20;
      cursor: pointer;
      overflow: hidden;
      transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
    }

    .animated-button span:last-child {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      background-color: #2196F3;
      border-radius: 50%;
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.23, 1, 0.320, 1);
    }

    .animated-button span:first-child {
      position: relative;
      z-index: 1;
    }

    .animated-button:hover {
      box-shadow: 0 0 0 5px #2195f360;
      color: #ffffff;
    }

    .animated-button:active {
      scale: 0.95;
    }

    .animated-button:hover span:last-child {
      width: 150px;
      height: 150px;
      opacity: 1;
    }
  </style>
</head>
<body>

  <div id="content"></div>

  <input id="typingArea" type="text" maxlength="30" placeholder="Type A to Z" autofocus>
  
  <!-- Buttons to toggle between cases -->
  <button id="uppercaseButton" class="case-button" onclick="changeToUppercase()" style="display: none;">Change to Uppercase</button>
  <button id="lowercaseButton" class="case-button" onclick="changeToLowercase()">Change to Lowercase</button>

  <!-- New Button for Redirect -->
  <button class="animated-button" onclick="goToCharacterPage()">
    <span>Practise</span>
    <span></span>
  </button>

  <script>
    let correctText = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ,./';
    let isUpperCase = true;
    let startTime, endTime;
    const typingArea = document.getElementById('typingArea');
    const contentDiv = document.getElementById('content');
    const uppercaseButton = document.getElementById('uppercaseButton');
    const lowercaseButton = document.getElementById('lowercaseButton');

    // Start the timer when the user starts typing
    typingArea.addEventListener('input', () => {
      if (!startTime) {
        startTime = new Date();
      }
    });

    typingArea.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const typedValue = typingArea.value;

        // End the timer when user presses Enter
        endTime = new Date();
        const timeDiff = ((endTime - startTime) / 1000).toFixed(2); // Time in seconds
        startTime = null; // Reset timer for the next input

        const line = document.createElement('div');
        line.classList.add('line');

        for (let i = 0; i < typedValue.length; i++) {
          const span = document.createElement('span');
          span.textContent = typedValue[i];

          if (typedValue[i] !== correctText[i] && isUpperCase) {
            span.classList.add('wrong');
          } else if (typedValue[i].toLowerCase() !== correctText[i].toLowerCase() && !isUpperCase) {
            span.classList.add('wrong');
          } else {
            span.classList.add('correct'); // Apply correct style with alternating color
          }

          line.appendChild(span);
        }

        const timeSpan = document.createElement('span');
        timeSpan.textContent = ` - Time: ${timeDiff} seconds`;
        line.appendChild(timeSpan);

        contentDiv.appendChild(line);
        typingArea.value = ''; // Clear the input field

        // Auto scroll to the bottom of the content
        contentDiv.scrollTop = contentDiv.scrollHeight;
      }
    });

    function changeToUppercase() {
      isUpperCase = true;
      correctText = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ,./';
      typingArea.placeholder = 'Type A to Z';
      uppercaseButton.style.display = 'none';
      lowercaseButton.style.display = 'inline-block';
    }

    function changeToLowercase() {
      isUpperCase = false;
      correctText = 'abcdefghijklmnopqrstuvwxyz,./';
      typingArea.placeholder = 'Type a to z';
      lowercaseButton.style.display = 'none';
      uppercaseButton.style.display = 'inline-block';
    }

    function goToCharacterPage() {
      window.location.href = 'character.html'; // Redirect to character.html
    }
  </script>

</body>
</html>
